## 싱글톤패턴

- 2023 02 18

## 문제점 : SRP 위반
- 싱글톤패턴은 두가지 문제를 동시에 해결함으로써 단일책임원칙을 위반합니다
  - 1 클래스에 인스턴스가 하나만 있도록 합니다 
    - 인스턴스 숫자 제어(하나만 만드는것)는 공유리소스 접근제어를 위함임
    - 생성자로는 구현할 수 없습니다
  - 2 인스턴스에 대한 전역 접근 지점을 제공합니다
    - 싱글톤 패턴을 사용하면 프로그램 모든 지점에서 접근이 가능해야하는데
    - 글로벌변수 같은 방식은 안됨. 왜냐하면 덮어써버릴수 있기때문
    
## 해결책 
- new 키워드 등 생성자를 호출하지 못하게 막기 >> 디폴트 생성자를 비공개로 변경해야함
- 생성자 역할을 하는 정적 생성 메서드를 만드세요

## 사용이유
- 싱글턴 패턴은 당신 프로그램의 클래스에 모든 클라이언트가 사용할 수 있는 단일 인스턴스만 있어야 할 때 사용하세요. 
  - 프로그램의 다른 부분들에서 공유되는 단일 데이터베이스 객체같은 경우에 사용
- 싱글턴 패턴은 특별 생성 메서드를 제외하고는 클래스의 객체들을 생성할 수 있는 모든 다른 수단들을 비활성화합니다. 
- 이 메서드는새 객체를 생성하거나 객체가 이미 생성되었으면 기존 객체를 반환합니다.
- 싱글턴 패턴은 전역 변수들을 더 엄격하게 제어해야 할 때 사용

## 특징?
- 클래스가 하나의 인스턴스만 갖는다고 보장하는 패턴
- 인스턴스에 대한 전역접근지점(글로벌한 엑세스 포인트?)
- 처음 요청될 때만 초기화됩니다


## 단점
- 단위/유닛 테스트하기 어렵다 : 프록시객체, 오버라이드 등 해야하는데 모의객체(Mock) 생성은 상속에 대부분 의존하기 때문
  - 예시로 스프링에서 싱
  - 단위테스트 : 켄트백의 범주
  - 